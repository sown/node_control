<VirtualHost 152.78.189.90:80>
        ServerName sown-auth2-dev.ecs.soton.ac.uk
        ServerAlias sown-auth2-dev
        ServerAdmin support@sown.org.uk
        Redirect permanent / https://sown-auth2-dev.ecs.soton.ac.uk/
</VirtualHost>

<VirtualHost [2001:630:d0:f104::5032:239]:80>
        ServerName sown-auth2-dev.ecs.soton.ac.uk
        ServerAlias sown-auth2-dev
        ServerAdmin support@sown.org.uk
        Redirect permanent / https://sown-auth2-dev.ecs.soton.ac.uk/
</VirtualHost>

<VirtualHost 10.13.0.233:80>
        ServerName auth2-dev.sown.org.uk
        ServerAlias auth2-dev
        ServerAdmin support@sown.org.uk
        Redirect permanent / https://auth2-dev.sown.org.uk/
</VirtualHost>

<VirtualHost [2001:630:d0:f700::233]:80>
        ServerName auth2-dev.sown.org.uk
        ServerAlias auth2-dev
        ServerAdmin support@sown.org.uk
        Redirect permanent / https://auth2-dev.sown.org.uk/
</VirtualHost>

<VirtualHost 152.78.189.90:443>
    ServerAdmin support@sown.org.uk
    ServerName sown-auth2-dev.ecs.soton.ac.uk

    SSLCertificateFile /etc/apache2/ssl/sown-auth2-dev.ecs.soton.ac.uk/current/sown-auth2-dev.ecs.soton.ac.uk.crt
    SSLCertificateKeyFile /etc/apache2/ssl/sown-auth2-dev.ecs.soton.ac.uk/current/sown-auth2-dev.ecs.soton.ac.uk.key

    DocumentRoot "/srv/www/development"

    SSLEngine on

    # StdEnvVars is required to pass SSL values on to php
    # ExportCertData is required to give php the _whole_ certificate
    SSLOptions +StrictRequire +StdEnvVars +ExportCertData

    <Directory />
        SSLRequireSSL
    </Directory>

    <Location /package>
        SSLCACertificatePath /etc/apache2/ssl/
        SSLVerifyClient require
    </Location>

    <Location /status>
        SSLCACertificatePath /etc/apache2/ssl/
        SSLVerifyClient require
    </Location>


    SSLProtocol -all +TLSv1 +SSLv3
    SSLCipherSuite HIGH:MEDIUM:!aNULL:+SHA1:+MD5:+HIGH:+MEDIUM

    SSLProxyEngine off

    <IfModule mime.c>
        AddType application/x-x509-ca-cert      .crt
        AddType application/x-pkcs7-crl         .crl
    </IfModule>

    ErrorLog /var/log/apache2/auth2-dev-error.log
    LogLevel warn
    CustomLog /var/log/apache2/auth2-dev-access.log combined

</VirtualHost>

<VirtualHost [2001:630:d0:f104::5032:239]:443>
    ServerAdmin support@sown.org.uk
    ServerName sown-auth2-dev.ecs.soton.ac.uk

    SSLCertificateFile /etc/apache2/ssl/sown-auth2-dev.ecs.soton.ac.uk/current/sown-auth2-dev.ecs.soton.ac.uk.crt
    SSLCertificateKeyFile /etc/apache2/ssl/sown-auth2-dev.ecs.soton.ac.uk/current/sown-auth2-dev.ecs.soton.ac.uk.key

    DocumentRoot "/srv/www/development"

    SSLEngine on

    # StdEnvVars is required to pass SSL values on to php
    # ExportCertData is required to give php the _whole_ certificate
    SSLOptions +StrictRequire +StdEnvVars +ExportCertData

    <Directory />
        SSLRequireSSL
    </Directory>

    <Location /package>
        SSLCACertificatePath /etc/apache2/ssl/
        SSLVerifyClient require
    </Location>

    <Location /status>
        SSLCACertificatePath /etc/apache2/ssl/
        SSLVerifyClient require
    </Location>


    SSLProtocol -all +TLSv1 +SSLv3
    SSLCipherSuite HIGH:MEDIUM:!aNULL:+SHA1:+MD5:+HIGH:+MEDIUM

    SSLProxyEngine off

    <IfModule mime.c>
        AddType application/x-x509-ca-cert      .crt
        AddType application/x-pkcs7-crl         .crl
    </IfModule>

    ErrorLog /var/log/apache2/auth2-dev-error.log
    LogLevel warn
    CustomLog /var/log/apache2/auth2-dev-access.log combined

</VirtualHost>

<VirtualHost 10.13.0.233:443>
    ServerAdmin support@sown.org.uk
    ServerName auth2-dev.sown.org.uk
    SSLCertificateFile /etc/apache2/ssl/auth2-dev.sown.org.uk/current/auth2-dev.sown.org.uk.crt
    SSLCertificateKeyFile /etc/apache2/ssl/auth2-dev.sown.org.uk/current/auth2-dev.sown.org.uk.key

    DocumentRoot "/srv/www/development"

    SSLEngine on

    # StdEnvVars is required to pass SSL values on to php
    # ExportCertData is required to give php the _whole_ certificate
    SSLOptions +StrictRequire +StdEnvVars +ExportCertData

    <Directory />
        SSLRequireSSL
    </Directory>

    <Location /package>
        SSLCACertificatePath /etc/apache2/ssl/
        SSLVerifyClient require
    </Location>

    <Location /status>
        SSLCACertificatePath /etc/apache2/ssl/
        SSLVerifyClient require
    </Location>


    SSLProtocol -all +TLSv1 +SSLv3
    SSLCipherSuite HIGH:MEDIUM:!aNULL:+SHA1:+MD5:+HIGH:+MEDIUM

    SSLProxyEngine off

    <IfModule mime.c>
        AddType application/x-x509-ca-cert      .crt
        AddType application/x-pkcs7-crl         .crl
    </IfModule>

    ErrorLog /var/log/apache2/auth2-dev-error.log
    LogLevel warn
    CustomLog /var/log/apache2/auth2-dev-access.log combined

</VirtualHost>

<VirtualHost [2001:630:d0:f700::233]:443>
    ServerAdmin support@sown.org.uk
    ServerName auth2-dev.sown.org.uk
    SSLCertificateFile /etc/apache2/ssl/auth2-dev.sown.org.uk/current/auth2-dev.sown.org.uk.crt
    SSLCertificateKeyFile /etc/apache2/ssl/auth2-dev.sown.org.uk/current/auth2-dev.sown.org.uk.key

    DocumentRoot "/srv/www/development"

    SSLEngine on

    # StdEnvVars is required to pass SSL values on to php
    # ExportCertData is required to give php the _whole_ certificate
    SSLOptions +StrictRequire +StdEnvVars +ExportCertData

    <Directory />
        SSLRequireSSL
    </Directory>

    <Location /package>
        SSLCACertificatePath /etc/apache2/ssl/
        SSLVerifyClient require
    </Location>

    <Location /status>
        SSLCACertificatePath /etc/apache2/ssl/
        SSLVerifyClient require
    </Location>


    SSLProtocol -all +TLSv1 +SSLv3
    SSLCipherSuite HIGH:MEDIUM:!aNULL:+SHA1:+MD5:+HIGH:+MEDIUM

    SSLProxyEngine off

    <IfModule mime.c>
        AddType application/x-x509-ca-cert      .crt
        AddType application/x-pkcs7-crl         .crl
    </IfModule>

    ErrorLog /var/log/apache2/auth2-dev-error.log
    LogLevel warn
    CustomLog /var/log/apache2/auth2-dev-access.log combined

</VirtualHost>
